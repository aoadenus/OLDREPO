<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Verification - Emily Bakes Cakes</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 32px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 16px;
        }
        .status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .status-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .status-card.success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .status-card.warning {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .status-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 8px;
        }
        .status-value {
            font-size: 32px;
            font-weight: bold;
        }
        .details {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .details h2 {
            color: #333;
            margin-top: 0;
            font-size: 20px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .detail-item {
            padding: 8px 0;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
        }
        .detail-item:last-child {
            border-bottom: none;
        }
        .detail-label {
            color: #666;
            font-weight: 500;
        }
        .detail-value {
            color: #333;
            font-weight: 600;
        }
        .sample-data {
            background: #fff;
            border: 2px solid #667eea;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        .sample-data h3 {
            color: #667eea;
            margin-top: 0;
        }
        .sample-row {
            background: #f8f9fa;
            padding: 10px;
            margin: 5px 0;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }
        .success-banner {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 30px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .error-banner {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÇ Emily Bakes Cakes</h1>
        <div class="subtitle">Data Verification Report - November 24, 2025</div>
        
        <div id="banner"></div>
        
        <div class="status">
            <div class="status-card" id="customers-card">
                <div class="status-label">Total Customers</div>
                <div class="status-value" id="customer-count">--</div>
            </div>
            <div class="status-card" id="orders-card">
                <div class="status-label">Total Orders</div>
                <div class="status-value" id="order-count">--</div>
            </div>
            <div class="status-card" id="employees-card">
                <div class="status-label">Total Employees</div>
                <div class="status-value" id="employee-count">--</div>
            </div>
            <div class="status-card" id="revenue-card">
                <div class="status-label">Total Revenue</div>
                <div class="status-value" id="total-revenue">--</div>
            </div>
        </div>

        <div class="details">
            <h2>üìä Data Structure Verification</h2>
            <div class="detail-item">
                <span class="detail-label">Field Naming Convention</span>
                <span class="detail-value" id="naming-check">--</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">Product ID Range</span>
                <span class="detail-value" id="product-range">--</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">Date Range</span>
                <span class="detail-value" id="date-range">--</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">Helper Functions</span>
                <span class="detail-value" id="helper-check">--</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">Nov 25 Orders</span>
                <span class="detail-value" id="nov25-orders">--</span>
            </div>
        </div>

        <div class="sample-data">
            <h3>üìã Sample Customer Data (First 5)</h3>
            <div id="sample-customers"></div>
        </div>

        <div class="sample-data">
            <h3>üì¶ Sample Order Data (First 5)</h3>
            <div id="sample-orders"></div>
        </div>
    </div>

    <script src="js/unified-mock-data.js"></script>
    <script>
        // Verification Script
        function verifyData() {
            const banner = document.getElementById('banner');
            let allPassed = true;
            const errors = [];

            // Check if data exists
            if (typeof unifiedMockData === 'undefined') {
                banner.className = 'error-banner';
                banner.textContent = '‚ùå ERROR: unifiedMockData not found!';
                return;
            }

            // Count checks
            const customerCount = unifiedMockData.customers.length;
            const orderCount = unifiedMockData.orders.length;
            const employeeCount = unifiedMockData.employees.length;

            document.getElementById('customer-count').textContent = customerCount;
            document.getElementById('order-count').textContent = orderCount;
            document.getElementById('employee-count').textContent = employeeCount;

            // Mark cards as success or warning
            document.getElementById('customers-card').className = customerCount === 30 ? 'status-card success' : 'status-card warning';
            document.getElementById('orders-card').className = orderCount === 70 ? 'status-card success' : 'status-card warning';
            document.getElementById('employees-card').className = employeeCount === 9 ? 'status-card success' : 'status-card warning';

            if (customerCount !== 30) { errors.push('Expected 30 customers, got ' + customerCount); allPassed = false; }
            if (orderCount !== 70) { errors.push('Expected 70 orders, got ' + orderCount); allPassed = false; }
            if (employeeCount !== 9) { errors.push('Expected 9 employees, got ' + employeeCount); allPassed = false; }

            // Calculate total revenue
            const totalRevenue = unifiedMockData.orders.reduce((sum, o) => sum + (o.totalPrice || 0), 0);
            document.getElementById('total-revenue').textContent = '$' + totalRevenue.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            document.getElementById('revenue-card').className = 'status-card success';

            // Check field naming (camelCase)
            const sampleOrder = unifiedMockData.orders[0];
            const hasCamelCase = sampleOrder.hasOwnProperty('customerId') && sampleOrder.hasOwnProperty('orderDate');
            const hasSnakeCase = sampleOrder.hasOwnProperty('cust_id') || sampleOrder.hasOwnProperty('order_date');
            
            if (hasCamelCase && !hasSnakeCase) {
                document.getElementById('naming-check').textContent = '‚úÖ camelCase (Correct)';
                document.getElementById('naming-check').style.color = '#11998e';
            } else {
                document.getElementById('naming-check').textContent = '‚ùå snake_case detected';
                document.getElementById('naming-check').style.color = '#f5576c';
                errors.push('Field names still use snake_case');
                allPassed = false;
            }

            // Check product ID range (should be 1-10, not 101-110)
            const productIds = [...new Set(unifiedMockData.orders.map(o => o.productId))].sort((a,b) => a-b);
            const minProductId = Math.min(...productIds);
            const maxProductId = Math.max(...productIds);
            
            if (minProductId >= 1 && maxProductId <= 10) {
                document.getElementById('product-range').textContent = `‚úÖ ${minProductId}-${maxProductId} (Correct)`;
                document.getElementById('product-range').style.color = '#11998e';
            } else {
                document.getElementById('product-range').textContent = `‚ùå ${minProductId}-${maxProductId} (Should be 1-10)`;
                document.getElementById('product-range').style.color = '#f5576c';
                errors.push('Product IDs out of range');
                allPassed = false;
            }

            // Check date range
            const orderDates = unifiedMockData.orders.map(o => o.orderDate);
            const minDate = orderDates.reduce((min, date) => date < min ? date : min, orderDates[0]);
            const maxDate = orderDates.reduce((max, date) => date > max ? date : max, orderDates[0]);
            document.getElementById('date-range').textContent = `${minDate} to ${maxDate}`;

            // Check helper functions
            const hasHelpers = typeof unifiedMockData.getCustomerName === 'function' && 
                              typeof unifiedMockData.getProductName === 'function';
            if (hasHelpers) {
                document.getElementById('helper-check').textContent = '‚úÖ All Present';
                document.getElementById('helper-check').style.color = '#11998e';
            } else {
                document.getElementById('helper-check').textContent = '‚ùå Missing';
                document.getElementById('helper-check').style.color = '#f5576c';
                errors.push('Helper functions missing');
                allPassed = false;
            }

            // Check Nov 25 orders
            const nov25Orders = unifiedMockData.orders.filter(o => o.orderDate === '2025-11-25').length;
            document.getElementById('nov25-orders').textContent = nov25Orders + ' orders';
            if (nov25Orders > 0) {
                document.getElementById('nov25-orders').style.color = '#11998e';
            }

            // Display sample customers
            const sampleCustomersDiv = document.getElementById('sample-customers');
            unifiedMockData.customers.slice(0, 5).forEach(c => {
                const div = document.createElement('div');
                div.className = 'sample-row';
                div.textContent = `ID: ${c.id} | ${c.firstName} ${c.lastName} | ${c.email} | ${c.phone}`;
                sampleCustomersDiv.appendChild(div);
            });

            // Display sample orders
            const sampleOrdersDiv = document.getElementById('sample-orders');
            unifiedMockData.orders.slice(0, 5).forEach(o => {
                const div = document.createElement('div');
                div.className = 'sample-row';
                const custName = unifiedMockData.getCustomerName(o.customerId);
                const productName = unifiedMockData.getProductName(o.productId);
                div.textContent = `Order #${o.id} | ${custName} | ${productName} | ${o.orderDate} | $${o.totalPrice}`;
                sampleOrdersDiv.appendChild(div);
            });

            // Final banner
            if (allPassed) {
                banner.className = 'success-banner';
                banner.textContent = 'üéâ ALL CHECKS PASSED! Data is ready for presentation!';
            } else {
                banner.className = 'error-banner';
                banner.innerHTML = '‚ö†Ô∏è WARNINGS DETECTED:<br>' + errors.join('<br>');
            }
        }

        // Run verification on load
        window.addEventListener('load', verifyData);
    </script>
</body>
</html>
